import{c as R,j as e,o as ee,u as re,q as se,r as o,N as S,s as te,b as ae,m as j,O as V,P as B,H as oe,R as L,Q as ie,T as ce,B as le,U as me,k as H,V as ne,D as ue,a as de,y as pe,W as Ne,J as ve,e as xe}from"./index-bqmhtJiV.js";import{P as U}from"./ProgressBar-CrBGMgi0.js";import{u as ge}from"./useRealtimeConnection-CYwMkXGV.js";import{T as he}from"./thumbs-up-Dd-IPgon.js";const be=[["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"m19 8 3 8a5 5 0 0 1-6 0zV7",key:"zcdpyk"}],["path",{d:"M3 7h1a17 17 0 0 0 8-2 17 17 0 0 0 8 2h1",key:"1yorad"}],["path",{d:"m5 8 3 8a5 5 0 0 1-6 0zV7",key:"eua70x"}],["path",{d:"M7 21h10",key:"1b0cd5"}]],$=R("scale",be);const fe=[["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}],["path",{d:"M17 14V2",key:"8ymqnk"}]],we=R("thumbs-down",fe),je=[{key:"[",description:"Toggle History panel",category:"navigation"},{key:"]",description:"Toggle Impact panel",category:"navigation"},{key:"n",description:"New decision proposal",category:"actions"},{key:"a",description:"Approve selected decision",category:"actions"},{key:"r",description:"Refresh decisions",category:"actions"},{key:"Escape",description:"Close panels / Cancel",category:"general"},{key:"?",description:"Show keyboard shortcuts",category:"general"},{key:"/",description:"Focus search",category:"navigation"}],ye=({decisions:r,loading:i,selectedId:p,onSelect:u,filter:s,onFilterChange:m})=>{const b=o.useMemo(()=>{if(!s)return r;const a=s.toLowerCase();return r.filter(N=>N.title.toLowerCase().includes(a)||N.description?.toLowerCase().includes(a)||N.tags?.some(n=>n.toLowerCase().includes(a)))},[r,s]),x={proposed:"text-blue-400 bg-blue-500/10 border-blue-500/20",discussing:"text-purple-400 bg-purple-500/10 border-purple-500/20",approved:"text-green-400 bg-green-500/10 border-green-500/20",rejected:"text-red-400 bg-red-500/10 border-red-500/20",implemented:"text-cyan-400 bg-cyan-500/10 border-cyan-500/20"},g={low:"text-gray-400",medium:"text-yellow-400",high:"text-orange-400",critical:"text-red-400"};return i?e.jsxDEV("div",{className:"p-4 space-y-3",children:[1,2,3,4].map(a=>e.jsxDEV("div",{className:"animate-pulse",children:e.jsxDEV("div",{className:"h-20 bg-gray-800 rounded-lg"},void 0,!1,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:154,columnNumber:13},void 0)},a,!1,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:153,columnNumber:11},void 0))},void 0,!1,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:151,columnNumber:7},void 0):e.jsxDEV("div",{className:"h-full flex flex-col","data-testid":"decision-history-panel",children:[e.jsxDEV("div",{className:"p-4 border-b border-gray-800",children:e.jsxDEV("div",{className:"relative",children:[e.jsxDEV(xe,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-500"},void 0,!1,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:166,columnNumber:11},void 0),e.jsxDEV("input",{type:"text",value:s,onChange:a=>m(a.target.value),placeholder:"Search decisions...",className:`w-full pl-10 pr-4 py-2 bg-gray-900 border border-gray-800 rounded-lg\r
                       text-sm text-gray-200 placeholder-gray-500\r
                       focus:border-purple-500/50 focus:ring-1 focus:ring-purple-500/20 outline-none`,"data-testid":"decision-search-input"},void 0,!1,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:167,columnNumber:11},void 0)]},void 0,!0,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:165,columnNumber:9},void 0)},void 0,!1,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:164,columnNumber:7},void 0),e.jsxDEV("div",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:b.length===0?e.jsxDEV("div",{className:"text-center py-8 text-gray-500",children:[e.jsxDEV(V,{className:"w-8 h-8 mx-auto mb-2 opacity-50"},void 0,!1,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:184,columnNumber:13},void 0),e.jsxDEV("p",{className:"text-sm",children:"No decisions found"},void 0,!1,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:185,columnNumber:13},void 0)]},void 0,!0,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:183,columnNumber:11},void 0):b.map((a,N)=>e.jsxDEV(j.button,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:N*.03},onClick:()=>u(a),className:`
                w-full text-left p-3 rounded-lg border transition-all
                ${p===a.id?"bg-purple-500/20 border-purple-500/40":"bg-gray-900/50 border-gray-800 hover:border-gray-700"}
              `,"data-testid":`decision-item-${a.id}`,children:[e.jsxDEV("div",{className:"flex items-start justify-between gap-2 mb-2",children:[e.jsxDEV("span",{className:`
                  px-2 py-0.5 rounded text-xs font-medium border
                  ${x[a.status]}
                `,children:a.status},void 0,!1,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:206,columnNumber:17},void 0),e.jsxDEV("span",{className:`text-xs ${g[a.impact]}`,children:[a.impact," impact"]},void 0,!0,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:212,columnNumber:17},void 0)]},void 0,!0,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:205,columnNumber:15},void 0),e.jsxDEV("h4",{className:"font-medium text-gray-200 text-sm mb-1 line-clamp-2",children:a.title},void 0,!1,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:216,columnNumber:15},void 0),e.jsxDEV("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[e.jsxDEV("span",{children:a.proposedBy},void 0,!1,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:220,columnNumber:17},void 0),e.jsxDEV("span",{children:"-"},void 0,!1,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:221,columnNumber:17},void 0),e.jsxDEV("span",{children:K(a.proposedAt)},void 0,!1,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:222,columnNumber:17},void 0)]},void 0,!0,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:219,columnNumber:15},void 0),a.consensus!==void 0&&e.jsxDEV("div",{className:"mt-2",children:e.jsxDEV(U,{value:a.consensus,max:100,className:"h-1",fillColor:a.consensus>=75?"bg-green-500":a.consensus>=50?"bg-yellow-500":"bg-red-500",animated:!1,testIdPrefix:`consensus-${a.id}`},void 0,!1,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:226,columnNumber:19},void 0)},void 0,!1,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:225,columnNumber:17},void 0)]},a.id,!0,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:189,columnNumber:13},void 0))},void 0,!1,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:181,columnNumber:7},void 0)]},void 0,!0,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:162,columnNumber:5},void 0)},De=({decision:r,analysis:i,loading:p})=>{if(!r)return e.jsxDEV("div",{className:"p-4 text-center text-gray-500",children:[e.jsxDEV($,{className:"w-8 h-8 mx-auto mb-2 opacity-50"},void 0,!1,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:253,columnNumber:9},void 0),e.jsxDEV("p",{className:"text-sm",children:"Select a decision to view impact analysis"},void 0,!1,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:254,columnNumber:9},void 0)]},void 0,!0,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:252,columnNumber:7},void 0);if(p)return e.jsxDEV("div",{className:"p-4 space-y-4",children:[1,2,3,4].map(s=>e.jsxDEV("div",{className:"animate-pulse",children:e.jsxDEV("div",{className:"h-12 bg-gray-800 rounded"},void 0,!1,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:264,columnNumber:13},void 0)},s,!1,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:263,columnNumber:11},void 0))},void 0,!1,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:261,columnNumber:7},void 0);const u=i?[{label:"Performance",value:i.performance,color:"from-blue-500 to-cyan-500"},{label:"Scalability",value:i.scalability,color:"from-green-500 to-emerald-500"},{label:"Maintainability",value:i.maintainability,color:"from-purple-500 to-pink-500"},{label:"Security",value:i.security,color:"from-red-500 to-orange-500"},{label:"Cost Efficiency",value:i.cost,color:"from-yellow-500 to-amber-500"},{label:"Timeline",value:i.timeline,color:"from-cyan-500 to-blue-500"}]:[];return e.jsxDEV("div",{className:"p-4 space-y-6","data-testid":"impact-analysis-panel",children:[e.jsxDEV("div",{children:[e.jsxDEV("h3",{className:"text-sm font-semibold text-gray-400 mb-4 flex items-center gap-2",children:[e.jsxDEV(ue,{className:"w-4 h-4"},void 0,!1,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:285,columnNumber:11},void 0),"Impact Metrics"]},void 0,!0,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:284,columnNumber:9},void 0),e.jsxDEV("div",{className:"space-y-3",children:u.map(s=>e.jsxDEV("div",{className:"space-y-1",children:[e.jsxDEV("div",{className:"flex items-center justify-between text-xs",children:[e.jsxDEV("span",{className:"text-gray-400",children:s.label},void 0,!1,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:292,columnNumber:17},void 0),e.jsxDEV("span",{className:"text-gray-200 font-medium",children:[s.value??0,"%"]},void 0,!0,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:293,columnNumber:17},void 0)]},void 0,!0,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:291,columnNumber:15},void 0),e.jsxDEV("div",{className:"h-2 bg-gray-800 rounded-full overflow-hidden",children:e.jsxDEV(j.div,{initial:{width:0},animate:{width:`${s.value??0}%`},transition:{duration:.5,delay:.1},className:`h-full bg-gradient-to-r ${s.color} rounded-full`},void 0,!1,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:296,columnNumber:17},void 0)},void 0,!1,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:295,columnNumber:15},void 0)]},s.label,!0,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:290,columnNumber:13},void 0))},void 0,!1,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:288,columnNumber:9},void 0)]},void 0,!0,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:283,columnNumber:7},void 0),r.tradeoffs&&r.tradeoffs.length>0&&e.jsxDEV("div",{children:[e.jsxDEV("h3",{className:"text-sm font-semibold text-gray-400 mb-3 flex items-center gap-2",children:[e.jsxDEV($,{className:"w-4 h-4"},void 0,!1,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:312,columnNumber:13},void 0),"Tradeoffs"]},void 0,!0,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:311,columnNumber:11},void 0),e.jsxDEV("ul",{className:"space-y-2",children:r.tradeoffs.map((s,m)=>e.jsxDEV("li",{className:"text-sm text-gray-300 flex items-start gap-2",children:[e.jsxDEV("span",{className:"text-amber-400 mt-0.5",children:"-"},void 0,!1,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:318,columnNumber:17},void 0),s]},m,!0,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:317,columnNumber:15},void 0))},void 0,!1,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:315,columnNumber:11},void 0)]},void 0,!0,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:310,columnNumber:9},void 0),i?.risks&&i.risks.length>0&&e.jsxDEV("div",{children:[e.jsxDEV("h3",{className:"text-sm font-semibold text-gray-400 mb-3 flex items-center gap-2",children:[e.jsxDEV(de,{className:"w-4 h-4 text-red-400"},void 0,!1,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:330,columnNumber:13},void 0),"Risks"]},void 0,!0,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:329,columnNumber:11},void 0),e.jsxDEV("ul",{className:"space-y-2",children:i.risks.map((s,m)=>e.jsxDEV("li",{className:"text-sm text-red-300/80 flex items-start gap-2 bg-red-900/10 p-2 rounded",children:[e.jsxDEV(pe,{className:"w-4 h-4 flex-shrink-0 mt-0.5"},void 0,!1,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:336,columnNumber:17},void 0),s]},m,!0,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:335,columnNumber:15},void 0))},void 0,!1,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:333,columnNumber:11},void 0)]},void 0,!0,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:328,columnNumber:9},void 0),i?.opportunities&&i.opportunities.length>0&&e.jsxDEV("div",{children:[e.jsxDEV("h3",{className:"text-sm font-semibold text-gray-400 mb-3 flex items-center gap-2",children:[e.jsxDEV(Ne,{className:"w-4 h-4 text-green-400"},void 0,!1,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:348,columnNumber:13},void 0),"Opportunities"]},void 0,!0,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:347,columnNumber:11},void 0),e.jsxDEV("ul",{className:"space-y-2",children:i.opportunities.map((s,m)=>e.jsxDEV("li",{className:"text-sm text-green-300/80 flex items-start gap-2 bg-green-900/10 p-2 rounded",children:[e.jsxDEV(H,{className:"w-4 h-4 flex-shrink-0 mt-0.5"},void 0,!1,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:354,columnNumber:17},void 0),s]},m,!0,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:353,columnNumber:15},void 0))},void 0,!1,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:351,columnNumber:11},void 0)]},void 0,!0,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:346,columnNumber:9},void 0),r.relatedDecisions&&r.relatedDecisions.length>0&&e.jsxDEV("div",{children:[e.jsxDEV("h3",{className:"text-sm font-semibold text-gray-400 mb-3 flex items-center gap-2",children:[e.jsxDEV(ve,{className:"w-4 h-4"},void 0,!1,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:366,columnNumber:13},void 0),"Related Decisions"]},void 0,!0,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:365,columnNumber:11},void 0),e.jsxDEV("div",{className:"flex flex-wrap gap-2",children:r.relatedDecisions.map(s=>e.jsxDEV("span",{className:"px-2 py-1 bg-gray-800 rounded text-xs text-gray-400",children:s},s,!1,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:371,columnNumber:15},void 0))},void 0,!1,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:369,columnNumber:11},void 0)]},void 0,!0,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:364,columnNumber:9},void 0)]},void 0,!0,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:281,columnNumber:5},void 0)},Te=({onSubmit:r,onCancel:i,isSubmitting:p})=>{const[u,s]=o.useState(""),[m,b]=o.useState(""),[x,g]=o.useState(""),[a,N]=o.useState(""),[n,y]=o.useState("medium"),[D,G]=o.useState(""),X=async d=>{d.preventDefault(),await r({title:u,description:m,approach:x,rationale:a,impact:n,tradeoffs:D.split(`
`).filter(f=>f.trim()),status:"proposed",proposedAt:new Date})};return e.jsxDEV(j.form,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},onSubmit:X,className:"p-6 rounded-2xl bg-gray-900/50 border border-gray-800 space-y-4","data-testid":"proposal-form",children:[e.jsxDEV("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[e.jsxDEV(B,{className:"w-5 h-5 text-purple-400"},void 0,!1,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:422,columnNumber:9},void 0),"New Architecture Proposal"]},void 0,!0,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:421,columnNumber:7},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Title"},void 0,!1,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:427,columnNumber:9},void 0),e.jsxDEV("input",{type:"text",value:u,onChange:d=>s(d.target.value),required:!0,placeholder:"e.g., Adopt Event Sourcing for Order Management",className:`w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg\r
                     text-gray-200 placeholder-gray-500\r
                     focus:border-purple-500 focus:ring-2 focus:ring-purple-500/20 outline-none`,"data-testid":"proposal-title-input"},void 0,!1,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:428,columnNumber:9},void 0)]},void 0,!0,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:426,columnNumber:7},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Description"},void 0,!1,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:442,columnNumber:9},void 0),e.jsxDEV("textarea",{value:m,onChange:d=>b(d.target.value),required:!0,rows:2,placeholder:"Brief description of what this decision addresses...",className:`w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg\r
                     text-gray-200 placeholder-gray-500 resize-none\r
                     focus:border-purple-500 focus:ring-2 focus:ring-purple-500/20 outline-none`,"data-testid":"proposal-description-input"},void 0,!1,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:443,columnNumber:9},void 0)]},void 0,!0,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:441,columnNumber:7},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Proposed Approach"},void 0,!1,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:457,columnNumber:9},void 0),e.jsxDEV("textarea",{value:x,onChange:d=>g(d.target.value),required:!0,rows:3,placeholder:"Describe the proposed solution or approach...",className:`w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg\r
                     text-gray-200 placeholder-gray-500 resize-none\r
                     focus:border-purple-500 focus:ring-2 focus:ring-purple-500/20 outline-none`,"data-testid":"proposal-approach-input"},void 0,!1,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:458,columnNumber:9},void 0)]},void 0,!0,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:456,columnNumber:7},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Rationale"},void 0,!1,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:472,columnNumber:9},void 0),e.jsxDEV("textarea",{value:a,onChange:d=>N(d.target.value),required:!0,rows:2,placeholder:"Why is this the right approach?",className:`w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg\r
                     text-gray-200 placeholder-gray-500 resize-none\r
                     focus:border-purple-500 focus:ring-2 focus:ring-purple-500/20 outline-none`,"data-testid":"proposal-rationale-input"},void 0,!1,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:473,columnNumber:9},void 0)]},void 0,!0,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:471,columnNumber:7},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Impact Level"},void 0,!1,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:488,columnNumber:11},void 0),e.jsxDEV("select",{value:n,onChange:d=>y(d.target.value),className:`w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg\r
                       text-gray-200 focus:border-purple-500 focus:ring-2 focus:ring-purple-500/20 outline-none`,"data-testid":"proposal-impact-select",children:[e.jsxDEV("option",{value:"low",children:"Low"},void 0,!1,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:496,columnNumber:13},void 0),e.jsxDEV("option",{value:"medium",children:"Medium"},void 0,!1,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:497,columnNumber:13},void 0),e.jsxDEV("option",{value:"high",children:"High"},void 0,!1,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:498,columnNumber:13},void 0),e.jsxDEV("option",{value:"critical",children:"Critical"},void 0,!1,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:499,columnNumber:13},void 0)]},void 0,!0,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:489,columnNumber:11},void 0)]},void 0,!0,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:487,columnNumber:9},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Tradeoffs"},void 0,!1,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:504,columnNumber:11},void 0),e.jsxDEV("textarea",{value:D,onChange:d=>G(d.target.value),rows:1,placeholder:"One tradeoff per line...",className:`w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg\r
                       text-gray-200 placeholder-gray-500 resize-none\r
                       focus:border-purple-500 focus:ring-2 focus:ring-purple-500/20 outline-none`,"data-testid":"proposal-tradeoffs-input"},void 0,!1,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:505,columnNumber:11},void 0)]},void 0,!0,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:503,columnNumber:9},void 0)]},void 0,!0,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:486,columnNumber:7},void 0),e.jsxDEV("div",{className:"flex gap-3 pt-2",children:[e.jsxDEV("button",{type:"submit",disabled:p||!u.trim()||!x.trim(),className:`flex-1 px-4 py-2 bg-purple-500 hover:bg-purple-600 disabled:bg-gray-700\r
                     disabled:cursor-not-allowed text-white rounded-lg font-medium\r
                     transition-all flex items-center justify-center gap-2`,"data-testid":"proposal-submit-btn",children:p?e.jsxDEV(e.Fragment,{children:[e.jsxDEV(L,{className:"w-4 h-4 animate-spin"},void 0,!1,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:529,columnNumber:15},void 0),"Submitting..."]},void 0,!0,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:528,columnNumber:13},void 0):e.jsxDEV(e.Fragment,{children:[e.jsxDEV(ie,{className:"w-4 h-4"},void 0,!1,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:534,columnNumber:15},void 0),"Submit Proposal"]},void 0,!0,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:533,columnNumber:13},void 0)},void 0,!1,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:519,columnNumber:9},void 0),e.jsxDEV("button",{type:"button",onClick:i,className:`px-4 py-2 bg-gray-800 hover:bg-gray-700 text-gray-300\r
                     rounded-lg font-medium transition-all`,"data-testid":"proposal-cancel-btn",children:"Cancel"},void 0,!1,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:539,columnNumber:9},void 0)]},void 0,!0,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:518,columnNumber:7},void 0)]},void 0,!0,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:413,columnNumber:5},void 0)},Ee=({decision:r,onApprove:i,onReject:p,isApproving:u})=>{const s={proposed:"from-blue-500 to-cyan-500",discussing:"from-purple-500 to-pink-500",approved:"from-green-500 to-emerald-500",rejected:"from-red-500 to-orange-500",implemented:"from-cyan-500 to-blue-500"};return e.jsxDEV(j.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6","data-testid":"decision-detail-view",children:[e.jsxDEV("div",{className:"p-6 rounded-2xl bg-gradient-to-br from-gray-900/80 to-gray-900/50 border border-gray-800",children:[e.jsxDEV("div",{className:"flex items-start justify-between mb-4",children:[e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV("div",{className:`w-12 h-12 rounded-xl bg-gradient-to-br ${s[r.status]} flex items-center justify-center`,children:e.jsxDEV(V,{className:"w-6 h-6 text-white"},void 0,!1,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:580,columnNumber:15},void 0)},void 0,!1,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:579,columnNumber:13},void 0),e.jsxDEV("div",{children:[e.jsxDEV("h2",{className:"text-xl font-bold text-gray-100",children:r.title},void 0,!1,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:583,columnNumber:15},void 0),e.jsxDEV("div",{className:"flex items-center gap-2 text-sm text-gray-500 mt-1",children:[e.jsxDEV("span",{children:["Proposed by ",r.proposedBy]},void 0,!0,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:585,columnNumber:17},void 0),e.jsxDEV("span",{children:"-"},void 0,!1,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:586,columnNumber:17},void 0),e.jsxDEV("span",{children:K(r.proposedAt)},void 0,!1,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:587,columnNumber:17},void 0)]},void 0,!0,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:584,columnNumber:15},void 0)]},void 0,!0,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:582,columnNumber:13},void 0)]},void 0,!0,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:578,columnNumber:11},void 0),e.jsxDEV("div",{className:`
            px-3 py-1 rounded-full text-sm font-medium
            bg-gradient-to-r ${s[r.status]} text-white
          `,children:r.status.charAt(0).toUpperCase()+r.status.slice(1)},void 0,!1,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:591,columnNumber:11},void 0)]},void 0,!0,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:577,columnNumber:9},void 0),e.jsxDEV("p",{className:"text-gray-300 leading-relaxed mb-4",children:r.description},void 0,!1,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:599,columnNumber:9},void 0),r.tags&&r.tags.length>0&&e.jsxDEV("div",{className:"flex flex-wrap gap-2",children:r.tags.map(m=>e.jsxDEV("span",{className:"px-2 py-1 bg-gray-800 rounded-full text-xs text-gray-400",children:["#",m]},m,!0,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:606,columnNumber:15},void 0))},void 0,!1,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:604,columnNumber:11},void 0)]},void 0,!0,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:576,columnNumber:7},void 0),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxDEV("div",{className:"p-4 rounded-xl bg-gray-900/50 border border-gray-800",children:[e.jsxDEV("h3",{className:"text-sm font-semibold text-gray-400 mb-3 flex items-center gap-2",children:[e.jsxDEV(ce,{className:"w-4 h-4 text-blue-400"},void 0,!1,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:621,columnNumber:13},void 0),"Proposed Approach"]},void 0,!0,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:620,columnNumber:11},void 0),e.jsxDEV("p",{className:"text-gray-200 text-sm leading-relaxed",children:r.approach||"No approach specified"},void 0,!1,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:624,columnNumber:11},void 0)]},void 0,!0,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:619,columnNumber:9},void 0),e.jsxDEV("div",{className:"p-4 rounded-xl bg-gray-900/50 border border-gray-800",children:[e.jsxDEV("h3",{className:"text-sm font-semibold text-gray-400 mb-3 flex items-center gap-2",children:[e.jsxDEV(le,{className:"w-4 h-4 text-purple-400"},void 0,!1,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:631,columnNumber:13},void 0),"Rationale"]},void 0,!0,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:630,columnNumber:11},void 0),e.jsxDEV("p",{className:"text-gray-200 text-sm leading-relaxed",children:r.rationale||"No rationale provided"},void 0,!1,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:634,columnNumber:11},void 0)]},void 0,!0,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:629,columnNumber:9},void 0)]},void 0,!0,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:618,columnNumber:7},void 0),r.status==="proposed"||r.status==="discussing"?e.jsxDEV("div",{className:"p-4 rounded-xl bg-gray-900/50 border border-gray-800",children:[e.jsxDEV("h3",{className:"text-sm font-semibold text-gray-400 mb-4 flex items-center gap-2",children:[e.jsxDEV(me,{className:"w-4 h-4"},void 0,!1,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:644,columnNumber:13},void 0),"Cast Your Vote"]},void 0,!0,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:643,columnNumber:11},void 0),r.consensus!==void 0&&e.jsxDEV("div",{className:"mb-4",children:[e.jsxDEV("div",{className:"flex items-center justify-between text-sm mb-2",children:[e.jsxDEV("span",{className:"text-gray-400",children:"Current Consensus"},void 0,!1,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:651,columnNumber:17},void 0),e.jsxDEV("span",{className:`font-medium ${r.consensus>=75?"text-green-400":r.consensus>=50?"text-yellow-400":"text-red-400"}`,children:[r.consensus,"%"]},void 0,!0,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:652,columnNumber:17},void 0)]},void 0,!0,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:650,columnNumber:15},void 0),e.jsxDEV(U,{value:r.consensus,max:100,className:"h-2",fillColor:r.consensus>=75?"bg-green-500":r.consensus>=50?"bg-yellow-500":"bg-red-500",animated:!0,testIdPrefix:"consensus-progress"},void 0,!1,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:659,columnNumber:15},void 0)]},void 0,!0,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:649,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex gap-3",children:[e.jsxDEV("button",{onClick:i,disabled:u,className:`flex-1 px-4 py-3 bg-green-500/20 hover:bg-green-500/30 border border-green-500/30\r
                         text-green-400 rounded-lg font-medium transition-all flex items-center justify-center gap-2`,"data-testid":"decision-approve-btn",children:[u?e.jsxDEV(L,{className:"w-4 h-4 animate-spin"},void 0,!1,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:682,columnNumber:17},void 0):e.jsxDEV(he,{className:"w-4 h-4"},void 0,!1,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:684,columnNumber:17},void 0),"Approve"]},void 0,!0,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:674,columnNumber:13},void 0),e.jsxDEV("button",{onClick:p,disabled:u,className:`flex-1 px-4 py-3 bg-red-500/20 hover:bg-red-500/30 border border-red-500/30\r
                         text-red-400 rounded-lg font-medium transition-all flex items-center justify-center gap-2`,"data-testid":"decision-reject-btn",children:[e.jsxDEV(we,{className:"w-4 h-4"},void 0,!1,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:695,columnNumber:15},void 0),"Reject"]},void 0,!0,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:688,columnNumber:13},void 0)]},void 0,!0,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:673,columnNumber:11},void 0)]},void 0,!0,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:642,columnNumber:9},void 0):r.status==="approved"?e.jsxDEV("div",{className:"p-4 rounded-xl bg-green-900/20 border border-green-500/30",children:e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV(H,{className:"w-6 h-6 text-green-400"},void 0,!1,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:703,columnNumber:13},void 0),e.jsxDEV("div",{children:[e.jsxDEV("h4",{className:"font-medium text-green-400",children:"Decision Approved"},void 0,!1,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:705,columnNumber:15},void 0),r.approvedBy&&e.jsxDEV("p",{className:"text-sm text-gray-400",children:["Approved by: ",r.approvedBy.join(", ")]},void 0,!0,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:707,columnNumber:17},void 0)]},void 0,!0,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:704,columnNumber:13},void 0)]},void 0,!0,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:702,columnNumber:11},void 0)},void 0,!1,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:701,columnNumber:9},void 0):r.status==="rejected"?e.jsxDEV("div",{className:"p-4 rounded-xl bg-red-900/20 border border-red-500/30",children:e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV(ne,{className:"w-6 h-6 text-red-400"},void 0,!1,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:717,columnNumber:13},void 0),e.jsxDEV("div",{children:[e.jsxDEV("h4",{className:"font-medium text-red-400",children:"Decision Rejected"},void 0,!1,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:719,columnNumber:15},void 0),e.jsxDEV("p",{className:"text-sm text-gray-400",children:"This proposal was not accepted."},void 0,!1,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:720,columnNumber:15},void 0)]},void 0,!0,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:718,columnNumber:13},void 0)]},void 0,!0,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:716,columnNumber:11},void 0)},void 0,!1,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:715,columnNumber:9},void 0):null]},void 0,!0,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:569,columnNumber:5},void 0)};function K(r){const p=new Date().getTime()-new Date(r).getTime(),u=Math.floor(p/6e4),s=Math.floor(u/60),m=Math.floor(s/24);return m>0?`${m}d ago`:s>0?`${s}h ago`:u>0?`${u}m ago`:"just now"}const Fe=()=>{const{toast:r}=re(),{contextPanelVisible:i,governancePanelVisible:p,footerVisible:u,toggleContextPanel:s,toggleGovernancePanel:m,layout:b}=se(),[x,g]=o.useState([]),[a,N]=o.useState(!0),[n,y]=o.useState(null),[D,G]=o.useState(null),[X,d]=o.useState(!1),[f,h]=o.useState(!1),[O,P]=o.useState(!1),[q,T]=o.useState(!1),[z,_]=o.useState(""),[W,E]=o.useState(""),[A,M]=o.useState(!1),[Y]=o.useState([{id:"1",type:"info",message:"Architecture decision system active",timestamp:new Date}]),{isConnected:w,sendMessage:F,messages:k,clearMessages:I}=ge({url:`${window.location.protocol==="https:"?"wss:":"ws:"}//${window.location.host}/ws`,onOpen:()=>{r.success("Connected to Forge",{message:"Real-time updates enabled"})}}),v=o.useCallback(async()=>{N(!0);try{const c=await S.getArchitectureDecisions();if(c.success&&c.data){const t=c.data.map(l=>({id:l.id||`decision-${Date.now()}`,title:l.title||l.approach||"Untitled Decision",description:l.description||"",approach:l.approach||"",rationale:l.rationale||"",tradeoffs:l.tradeoffs||[],impact:l.impact||"medium",status:l.status||"proposed",proposedBy:l.proposedBy||"Unknown",proposedAt:l.proposedAt?new Date(l.proposedAt):new Date,approvedBy:l.approvedBy,consensus:l.consensus,votes:l.votes,relatedDecisions:l.relatedDecisions,tags:l.tags,signedOffBy:l.signedOffBy||[]}));g(t)}}catch(c){console.error("Failed to fetch decisions:",c),r.error("Failed to load decisions",{message:"Please try again"})}finally{N(!1)}},[r]),J=o.useCallback(async c=>{P(!0);try{const t=await S.proposeArchitecture(c);if(t.success)r.success("Proposal submitted",{message:"Your architecture decision has been proposed"}),h(!1),await v(),w&&F({type:"decision.made",payload:t.data});else throw new Error(t.error)}catch(t){const l=t instanceof Error?t.message:"Unknown error";r.error("Failed to submit proposal",{message:l})}finally{P(!1)}},[v,w,F,r]),C=o.useCallback(async()=>{if(n){T(!0);try{const c=await S.approveArchitectureDecision(n.id);if(c.success)r.success("Decision approved",{message:`"${n.title}" has been approved`}),await v(),w&&F({type:"decision.made",payload:c.data});else throw new Error(c.error)}catch(c){const t=c instanceof Error?c.message:"Unknown error";r.error("Failed to approve",{message:t})}finally{T(!1)}}},[n,v,w,F,r]),Q=o.useCallback(async()=>{if(n){T(!0);try{g(c=>c.map(t=>t.id===n.id?{...t,status:"rejected"}:t)),r.info("Decision rejected",{message:`"${n.title}" has been rejected`})}finally{T(!1)}}},[n,r]),Z=o.useCallback(c=>{y(c),h(!1),d(!0),setTimeout(()=>{G({performance:Math.floor(Math.random()*30)+70,scalability:Math.floor(Math.random()*30)+70,maintainability:Math.floor(Math.random()*30)+70,security:Math.floor(Math.random()*30)+70,cost:Math.floor(Math.random()*30)+70,timeline:Math.floor(Math.random()*30)+70,risks:["Increased complexity in initial implementation","Team learning curve for new patterns"],opportunities:["Better long-term maintainability","Improved system resilience"]}),d(!1)},500)},[]);return o.useEffect(()=>{k.length>0&&(k.forEach(c=>{c.type==="decision.made"&&(v(),r.info("Decision updated",{message:"Architecture decisions have been updated"}))}),I())},[k,I,v,r]),o.useEffect(()=>{v()},[v]),o.useEffect(()=>{const c=t=>{if(!((t.target instanceof HTMLInputElement||t.target instanceof HTMLTextAreaElement)&&t.key!=="Escape"))switch(t.key){case"[":t.preventDefault(),s(),E(`History panel ${i?"closed":"opened"}`);break;case"]":t.preventDefault(),m(),E(`Impact panel ${p?"closed":"opened"}`);break;case"n":!t.ctrlKey&&!t.metaKey&&(t.preventDefault(),h(!0),y(null),E("New proposal form opened"));break;case"a":!t.ctrlKey&&!t.metaKey&&n&&(t.preventDefault(),C());break;case"r":!t.ctrlKey&&!t.metaKey&&(t.preventDefault(),v(),r.info("Refreshing decisions..."));break;case"Escape":f?(h(!1),E("Proposal form closed")):A&&M(!1);break;case"?":t.preventDefault(),M(!0);break;case"/":t.preventDefault();const l=document.querySelector('[data-testid="decision-search-input"]');l&&l.focus();break}};return window.addEventListener("keydown",c),()=>window.removeEventListener("keydown",c)},[i,p,f,A,n,s,m,C,v,r]),e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{role:"status","aria-live":"polite","aria-atomic":"true",className:"sr-only",children:W},void 0,!1,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:1047,columnNumber:7},void 0),e.jsxDEV(te,{title:"Architecture Decisions",icon:e.jsxDEV(V,{className:"w-6 h-6"},void 0,!1,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:1054,columnNumber:15},void 0),badge:`${x.filter(c=>c.status==="proposed").length} Pending`,leftPanel:e.jsxDEV(ye,{decisions:x,loading:a,selectedId:n?.id||null,onSelect:Z,filter:z,onFilterChange:_},void 0,!1,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:1059,columnNumber:11},void 0),showLeftPanel:i,leftPanelWidth:320,leftPanelTitle:"Decision History",rightPanel:e.jsxDEV(oe,{fallbackMessage:"Impact panel error",children:e.jsxDEV(De,{decision:n,analysis:D,loading:X},void 0,!1,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:1075,columnNumber:13},void 0)},void 0,!1,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:1074,columnNumber:11},void 0),showRightPanel:p,rightPanelWidth:320,rightPanelTitle:"Impact Analysis",showFooter:u,sessionName:"architect",isConnected:w,oracleMessages:Y,onToggleContext:s,onToggleGovernance:m,contextVisible:i,governanceVisible:p,customShortcuts:je,className:"h-screen","data-testid":"architect-view-container",children:e.jsxDEV("div",{className:"max-w-4xl mx-auto px-6 py-8",children:e.jsxDEV(ae,{mode:"wait",children:f?e.jsxDEV(Te,{onSubmit:J,onCancel:()=>h(!1),isSubmitting:O},"proposal-form",!1,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:1106,columnNumber:15},void 0):n?e.jsxDEV(Ee,{decision:n,onApprove:C,onReject:Q,isApproving:q},n.id,!1,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:1113,columnNumber:15},void 0):e.jsxDEV(j.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-16",children:[e.jsxDEV(V,{className:"w-16 h-16 mx-auto text-gray-700 mb-4"},void 0,!1,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:1127,columnNumber:17},void 0),e.jsxDEV("h2",{className:"text-2xl font-bold text-gray-400 mb-2",children:"Architecture Decision Records"},void 0,!1,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:1128,columnNumber:17},void 0),e.jsxDEV("p",{className:"text-gray-500 mb-6 max-w-md mx-auto",children:"Select a decision from the history panel or create a new proposal to start making architecture decisions."},void 0,!1,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:1131,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>h(!0),className:`px-6 py-3 bg-purple-500 hover:bg-purple-600\r
                             text-white rounded-lg font-medium transition-all inline-flex items-center gap-2`,children:[e.jsxDEV(B,{className:"w-5 h-5"},void 0,!1,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:1140,columnNumber:19},void 0),"Create New Proposal"]},void 0,!0,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:1135,columnNumber:17},void 0)]},"empty-state",!0,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:1121,columnNumber:15},void 0)},void 0,!1,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:1104,columnNumber:11},void 0)},void 0,!1,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:1103,columnNumber:9},void 0)},void 0,!1,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:1051,columnNumber:7},void 0)]},void 0,!0,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:1045,columnNumber:5},void 0)},Ce=()=>e.jsxDEV(ee,{children:e.jsxDEV(Fe,{},void 0,!1,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:1156,columnNumber:7},void 0)},void 0,!1,{fileName:"/home/axw/projects/NXTG-Forge/v3/src/pages/architect-view.tsx",lineNumber:1155,columnNumber:5},void 0);export{Ce as default};
//# sourceMappingURL=architect-view-D6kUwNcT.js.map
